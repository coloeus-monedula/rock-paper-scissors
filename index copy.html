<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors</title>
</head>

<body>
	<script>
	let choices=["rock","paper","scissors"]
	let playerScore= 0;
	let computerScore= 0;
	
	function computer_play(choices) {
		var index = Math.floor(Math.random() * choices.length);
		return choices[index];
	}
	
	function play_round(playerSelection,computerSelection) {	
		if (playerSelection === computerSelection) {
			return 0; 
		}
		
		switch (playerSelection) {
			case 'rock': 
				if (computerSelection === "paper") {
					return -1;
				} else {
					return 1;
				}
			
			case 'paper': 
				if (computerSelection === "scissors") {
					return -1;
				} else {
					return 1;
				}
				
			case 'scissors': 
				if (computerSelection === "rock") {
					return -1;
				} else {
					return 1;
				}
			
			default:
				alert("Congrats. You broke it.");
				break;
		
		}
	}
	
	
	function add_player_score(playerScore){
		return playerScore+1	
	}
	
	function add_computer_score(computerScore){
		return computerScore+1
	}
	

	
	function play(){
		let playerSelection = prompt("Rock, paper or scissors?");
		if (playerSelection===null) {
			return false;
		}
		playerSelection=playerSelection.toLowerCase();
		const computerSelection = computer_play(choices);
		const result= play_round(playerSelection, computerSelection);
		console.log(`${playerSelection} vs ${computerSelection}`);
		return result
	
	}
	
	let counter=5;
	for (i=0; i<counter; i++) {
		result=play();
		if (result===false) {
			break;
		}
		switch (result) {
			case 0:
			break;
			
			case 1:
			playerScore=add_player_score(playerScore);
			break;
			
			case -1:
			computerScore=add_computer_score(computerScore);
			break;
			
			default:
			console.log("Broke.");
		
		}
		score=playerScore+" - "+computerScore;
		console.log("Score: "+score);
		
	}
	
	if (playerScore===computerScore) {
		console.log("Draw!");
	} else if (playerScore>computerScore){
		console.log("Player wins");
	} else {
		console.log("Computer wins")
	}
	
	</script>
	
</body>




</html>
