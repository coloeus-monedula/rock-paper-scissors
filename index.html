<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors</title>
</head>

<body>
<div class = "buttons"> 
	<button id="rock">
		Rock
	</button>
	<button id="paper"> 
		Paper
	</button>
	<button id="scissors">
		Scissors
	</button>

</div>

<div id="result">

</div>


	<script>
	let choices=["rock","paper","scissors"];
	let playerScore= 0;
	let computerScore= 0;
	
	function computer_play(choices) {
		var index = Math.floor(Math.random() * choices.length);
		return choices[index];
	}
	
	function play_round(playerSelection,computerSelection) {	
		if (playerSelection === computerSelection) {
			return 0; 
		}
		
		switch (playerSelection) {
			case 'rock': 
				if (computerSelection === "paper") {
					return -1;
				} else {
					return 1;
				}
			
			case 'paper': 
				if (computerSelection === "scissors") {
					return -1;
				} else {
					return 1;
				}
				
			case 'scissors': 
				if (computerSelection === "rock") {
					return -1;
				} else {
					return 1;
				}
			
			default:
				alert("Congrats. You broke it.");
				break;
		
		}
	}
	

	
	function play(e){
		let playerSelection = e.target.textContent;		//retrieves info of element
		playerSelection=playerSelection.trim().toLowerCase(); //removes whitespace
		const computerSelection = computer_play(choices);
		const result= play_round(playerSelection, computerSelection);
		console.log(`${playerSelection} vs ${computerSelection}`);
		add_score(result)
		display_score();
	}

	function display_score() {
		const display = document.querySelector('#result');
		score=playerScore+" - "+computerScore;
		display.textContent=score;
	
	}
	
	if (playerScore===computerScore) {
		console.log("Draw!");
	} else if (playerScore>computerScore){
		console.log("Player wins");
	} else {
		console.log("Computer wins");
	}
	
	function add_score(result) {
		switch (result) {
		case 0:
			break;
			
		case 1:
			playerScore+=1;
			break;
			
		case -1:
			computerScore+=1;
			break;
			
		default:
			console.log("Broke.");
			
			}
	}
	
	const myButtons = document.querySelector('.buttons');
	
	myButtons.addEventListener("click", play);
	

	</script>
	
</body>


<!-- https://stackoverflow.com/questions/30460233/how-to-find-out-which-event-listener-has-fired -->

</html>
